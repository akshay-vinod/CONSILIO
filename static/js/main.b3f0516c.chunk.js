(this.webpackJsonpconsilio=this.webpackJsonpconsilio||[]).push([[0],{189:function(e,t,a){},190:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(71),i=a.n(r),n=a(8),o=a.n(n),d=a(15),l=a(3),b=(a(79),a(80),a(0)),u=function(){return Object(b.jsxs)("div",{className:"navbar",children:[Object(b.jsx)("h2",{children:"Covid19."}),Object(b.jsx)("ul",{className:"nav-links",children:Object(b.jsx)("li",{children:Object(b.jsxs)("button",{className:"btn",children:[Object(b.jsx)("i",{className:"bi bi-grid-1x2-fill",style:{color:"#ffff"}}),Object(b.jsx)("a",{href:"https://akshay-vinod.github.io/CONSILIO/",children:"Dashboard"})]})})}),Object(b.jsx)("a",{title:"Buy me a coffee",href:"https://www.buymeacoffee.com/akshayvinod",rel:"noreferrer",target:"_blank",children:Object(b.jsx)("img",{alt:"Buy me a coffee",src:"https://cdn.dribbble.com/users/3349322/screenshots/14039201/media/616e4ae6995fb288e434c3f0927541ce.png"})})]})},j=(a(82),function(e){var t=e.sList,a=e.dList,s=e.load,r=e.loadApi,i=e.setStateQuery,n=e.setDistrictQuery,o=e.setChartDisplay,d=Object(c.useState)("Kerala"),u=Object(l.a)(d,2),j=u[0],f=u[1],O=Object(c.useState)("Select District"),v=Object(l.a)(O,2),h=v[0],p=v[1],m=Object(c.useState)("Kerala"),x=Object(l.a)(m,2),g=x[0],y=x[1];return Object(c.useEffect)((function(){if(!r){var e=t[j].statecode;i(e)}n(h),"Select District"!==h&&y(h),o(g)}),[j,i,h,n,r,s]),Object(b.jsxs)("div",{className:"district",children:[Object(b.jsx)("div",{className:"",children:Object(b.jsxs)("h2",{children:["Overview :"," ",Object(b.jsx)("span",{children:"Select District"===h?j:h})]})}),Object(b.jsxs)("div",{className:"selectors",children:[Object(b.jsx)("div",{className:"select",children:r?"":Object(b.jsx)("select",{value:j,onChange:function(e){f(e.target.value),p("Select District"),y(e.target.value)},children:Object.keys(t).map((function(e){return"State Unassigned"!==e?Object(b.jsx)("option",{value:e,children:e},e):""}))})}),Object(b.jsx)("div",{className:"select",children:r?"":Object(b.jsxs)("select",{value:h,onChange:function(e){return p(e.target.value)},children:[Object(b.jsx)("option",{value:"Select District",children:"Select District"}),Object.keys(a).map((function(e){return"Other State"!==e&&"Unknown"!==e?Object(b.jsx)("option",{value:e,children:e},e):""}))]})})]})]})}),f=a(2),O=a(17),v=(a(189),function(e){var t=e.fullSData,a=e.load,s=e.selectedS,r=e.selectedD,i=e.Sdate,n=e.SdateData,u=e.chartLabel,j=(e.chartData,Object(c.useState)([])),v=Object(l.a)(j,2),h=v[0],p=v[1],m=Object(c.useState)(""),x=Object(l.a)(m,2),g=x[0],y=x[1];return Object(c.useEffect)((function(){a||function(){var e=Object(d.a)(o.a.mark((function e(){var a,c,s,d,l,b,u,j,O,v,h,m,x,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,c=[],s=[],"Select District"===r){for(d=a.dates,l=Object.keys(d).length,c=[],s=[],b=l-7;b<l;b++)c.push(Object.keys(d)[b]);y(c[6]),c.map((function(e){return s.push(d[e].delta)})),i(Object(f.a)(c)),n(Object(f.a)(s))}else{for(u=a.districts[r].dates,j=Object.keys(u).length,c=[],s=[],O=j-7;O<j;O++)c.push(Object.keys(u)[O]);c.map((function(e){return s.push(u[e].delta)})),i(Object(f.a)(c)),n(Object(f.a)(s))}v={confirmed:void 0!==s[6]?s[6].confirmed:void 0,recovered:void 0!==s[6]?s[6].recovered:void 0,deceased:void 0!==s[6]?s[6].deceased:void 0},h={confirmed:void 0!==s[5]?s[5].confirmed:void 0,recovered:void 0!==s[5]?s[5].recovered:void 0,deceased:void 0!==s[5]?s[5].deceased:void 0},m=[],x=[],g=[],s.map((function(e){return void 0!==e&&("confirmed"in e&&m.push(e.confirmed),"recovered"in e&&x.push(e.recovered),"deceased"in e&&g.push(e.deceased)),""})),p([].concat([{status:"Confirmed",data:v.confirmed,increase:(void 0===v.confirmed?0:v.confirmed)-(void 0===h.confirmed?0:h.confirmed),icon:"fas fa-hospital-user",arr:m,color:"rgb(255, 77, 77"},{status:"Recovered",data:v.recovered,increase:(void 0===v.recovered?0:v.recovered)-(void 0===h.recovered?0:h.recovered),icon:"bi bi-heart-fill",arr:x,color:"rgb(0, 255, 0"},{status:"Deceased",data:v.deceased,increase:(void 0===v.deceased?0:v.deceased)-(void 0===h.deceased?0:h.deceased),icon:"bi bi-x-octagon-fill",arr:g,color:"rgb(160, 164, 171"}]));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s,r]),Object(b.jsx)("div",{className:"cards",children:a?"":h.map((function(e,t){var a="-";return void 0!==e.data&&(a=e.data),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"icon",children:Object(b.jsx)("i",{className:e.icon,style:{color:"#edf0f5"}})}),Object(b.jsxs)("div",{className:"count",children:[Object(b.jsx)("p",{children:e.status}),Object(b.jsx)("h1",{children:a}),Object(b.jsx)("br",{})]})]}),Object(b.jsxs)("div",{className:"change",children:[Object(b.jsxs)("div",{className:"increase",children:[Object(b.jsx)("i",{className:"Recovered"!==e.status?e.increase>0?"bi bi-arrow-up red":"bi bi-arrow-down green":e.increase>0?"bi bi-arrow-up green":"bi bi-arrow-down red"}),Object(b.jsx)("p",{children:"-"===a?"-":Math.abs(e.increase)})]}),Object(b.jsx)("p",{children:g}),Object(b.jsx)("div",{className:"noChart",children:Object(b.jsx)(O.b,{data:function(t){var a=t.getContext("2d").createLinearGradient(0,0,0,80);return a.addColorStop(0,"".concat(e.color+",1)")),a.addColorStop(1,"".concat(e.color+",0)")),{labels:Object(f.a)(u),datasets:[{data:e.arr,fill:!0,backgroundColor:a,borderColor:"".concat(e.color+",0.3)"),tension:.4,pointRadius:[0,0,0,0,0,0,5],pointBackgroundColor:"#fff"}]}},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!1,grid:{display:!1},ticks:{display:!1}},y:{display:!1,grid:{display:!1},ticks:{display:!1}}}}})})]})]},t)}))})}),h=(a(190),function(e){var t=e.stateD,a=e.stateDateD,c=e.dData,s=e.title,r=[],i=[],n=[],o=[],d=[],l=[];Object.keys(c).map((function(e){if("Unknown"!==e){var t=Object.keys(c[e].dates).length,a=Object.keys(c[e].dates)[t-1];l.push({name:e,value:c[e].dates[a].delta.confirmed})}return""})),l.sort((function(e,t){return t.value-e.value}));for(var u=0;u<5;u++)void 0!==l[u]&&(o.push(l[u].name),d.push(l[u].value));a.map((function(e){return void 0!==e&&("confirmed"in e&&r.push(e.confirmed),"recovered"in e&&i.push(e.recovered),"deceased"in e&&n.push(e.deceased)),""}));var j={labels:Object(f.a)(t),datasets:[{label:"Confirmed",data:r,fill:!1,borderColor:"rgb(255, 7, 58)",backgroundColor:"rgb(255, 7, 58)",tension:.1},{label:"Recovered",data:i,fill:!1,borderColor:"rgb(40, 167, 69)",backgroundColor:"rgb(40, 167, 69)",tension:.1}]},v={labels:o,datasets:[{label:"My First Dataset",data:d,backgroundColor:["rgb(218,25,83)","rgb(15,189,168)","rgb(254,184,92)","rgb(100,138,225)","rgb(108, 117, 125)"],borderColor:["rgb(218,25,83)","rgb(15,189,168)","rgb(254,184,92)","rgb(100,138,225)","rgb(108, 117, 125)"],hoverOffset:4}]};return Object(b.jsxs)("div",{className:"LineChart",children:[Object(b.jsx)("div",{className:"chart",children:Object(b.jsx)(O.b,{data:j,height:300,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},title:{display:!0,align:"start",text:"Cumulative Summary of ".concat(s),color:"#ffff",font:{family:"Montserrat",size:21,weight:"normal"},padding:{top:10,bottom:20}}}}})}),Object(b.jsx)("div",{className:"coffee",children:Object(b.jsx)("div",{className:"chart",children:Object(b.jsx)(O.a,{data:v,height:100,options:{maintainAspectRatio:!1,plugins:{legend:{position:"right",title:{display:!0,text:"On ".concat(t[6])}},title:{display:!0,align:"start",text:"Top districts(Confirmed Case) ",color:"#ffff",font:{family:"Montserrat",size:21,weight:"normal"},padding:{top:10,bottom:20}}}}})})})]})}),p=a(42),m=a.n(p);var x=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)({}),i=Object(l.a)(r,2),n=i[0],f=i[1],O=Object(c.useState)({}),p=Object(l.a)(O,2),x=p[0],g=p[1],y=Object(c.useState)("KL"),S=Object(l.a)(y,2),D=S[0],k=S[1],N=Object(c.useState)("Select District"),C=Object(l.a)(N,2),w=C[0],L=C[1],R=Object(c.useState)([]),A=Object(l.a)(R,2),E=A[0],M=A[1],B=Object(c.useState)([]),K=Object(l.a)(B,2),Q=K[0],I=K[1],U=Object(c.useState)("Kerala"),_=Object(l.a)(U,2),z=_[0],F=_[1],J=Object(c.useState)(!0),T=Object(l.a)(J,2),G=T[0],q=T[1],H=Object(c.useState)(!0),P=Object(l.a)(H,2),V=P[0],W=P[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,m.a.get("https://api.covid19india.org/state_district_wise.json");case 3:return t=e.sent,e.next=6,s(t.data);case 6:W(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,m.a.get("https://api.covid19india.org/v4/min/timeseries-".concat(D,".min.json"));case 3:return t=e.sent,e.next=6,t.data[D].districts;case 6:return a=e.sent,e.next=9,g(a);case 9:return e.next=11,f(t.data[D]);case 11:setTimeout((function(){q(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(u,{}),Object(b.jsxs)("div",{className:"overview",children:[Object(b.jsx)(j,{sList:a,dList:x,load:G,loadApi:V,setStateQuery:function(e){return k(e)},setDistrictQuery:function(e){return L(e)},setChartDisplay:function(e){return F(e)}}),G?Object(b.jsx)("div",{className:"bars-1"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(v,{load:G,selectedS:D,selectedD:w,fullSData:n,chartLabel:E,chartData:Q,Sdate:function(e){return M(e)},SdateData:function(e){return I(e)}}),Object(b.jsx)(h,{dData:x,stateD:E,stateDateD:Q,title:z})]})]})]})};i.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){}},[[209,1,2]]]);
//# sourceMappingURL=main.b3f0516c.chunk.js.map